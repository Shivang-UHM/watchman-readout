#include "gpio_ctrl.h"

XGpioPs Gpio;    /* The driver instance for GPIO Device. */
XGpioPs_Config *ConfigPtr;
int gpio_toggling(void)
{
int Status;
u32 InputData;
/* Initialize the GPIO driver. */
ConfigPtr = XGpioPs_LookupConfig(XPAR_XGPIOPS_0_DEVICE_ID);
Status = XGpioPs_CfgInitialize(&Gpio, ConfigPtr,
ConfigPtr->BaseAddr);
if (Status != XST_SUCCESS) {
return XST_FAILURE;
}

	XGpioPs_SetDirectionPin(&Gpio, 14, 1);
	XGpioPs_SetOutputEnablePin(&Gpio, 14, 1);
	XGpioPs_SetDirectionPin(&Gpio, 15, 1);
		XGpioPs_SetOutputEnablePin(&Gpio, 15, 1);


while(1){
	XGpioPs_WritePin(&Gpio, 14, 1);
	usleep(1000);
	XGpioPs_WritePin(&Gpio, 14, 0);

}
return XST_SUCCESS;
}
